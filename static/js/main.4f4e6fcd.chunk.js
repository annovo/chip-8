(this["webpackJsonpchip-8"]=this["webpackJsonpchip-8"]||[]).push([[0],{38:function(e,t,s){},59:function(e,t,s){"use strict";s.r(t);var i=s(0),r=s.n(i),c=s(39),a=s.n(c),A=(s(38),s(21)),n=s.n(A),h=s(35),o=s(3),u=s(11),g=s(40),l=s(41),b=function(){function e(t){Object(g.a)(this,e),this.WIDTH=64,this.HEIGHT=32,this.KEYBOARD=["Digit1","Digit2","Digit2","Digit4","KeyQ","KeyW","KeyE","KeyR","KeyA","KeyS","KeyD","KeyF","KeyZ","KeyX","KeyC","KeyV"],this.FONT=new Uint8Array([240,144,144,144,240,32,96,32,32,112,240,16,240,128,240,240,16,240,16,240,144,144,240,16,16,240,128,240,16,240,240,128,240,144,240,240,16,32,64,64,240,144,240,144,240,240,144,240,16,240,240,144,240,144,144,224,144,224,144,224,240,128,128,128,240,224,144,144,144,224,240,128,240,128,240,240,128,240,128,128]),this.SHIFT=512-this.FONT.length,this.memory=[].concat(Object(u.a)(this.FONT),Object(u.a)(t)),this.pc=this.FONT.length,this.registers=[],this.initRegisters(),this.iRegister=0,this.dTimer=0,this.sTimer=0,this.stack=[],this.display=[]}return Object(l.a)(e,[{key:"initRegisters",value:function(){for(var e=0;e<=15;e++)this.registers[e]=0}},{key:"run",value:function(e,t){var s=this.memory[this.pc]<<8|this.memory[this.pc+1];this.pc+=2,this.decode(s,e,t)}},{key:"decode",value:function(e,t,s){var i=(3840&e)>>8,r=(240&e)>>4,c=15&e,a=255&e,A=4095&e;switch((61440&e)>>12){case 0:0===i&&0===c&&14===r?(this.display=[],this.render(s)):0===i&&14===c&&14===r&&(this.pc=this.stack[this.stack.length-1],this.stack=this.stack.slice(0,this.stack.length-1));break;case 1:this.pc=A-this.SHIFT;break;case 2:this.stack=[].concat(Object(u.a)(this.stack),[this.pc]),this.pc=A-this.SHIFT;break;case 3:this.registers[i]===a&&(this.pc+=2);break;case 4:this.registers[i]!==a&&(this.pc+=2);break;case 5:this.registers[i]===this.registers[r]&&(this.pc+=2);break;case 6:this.registers[i]=a;break;case 7:this.registers[i]=(this.registers[i]+a)%256;break;case 8:var n=i,h=r;switch(c){case 0:this.registers[n]=this.registers[h];break;case 1:this.registers[n]=this.registers[n]|this.registers[h];break;case 2:this.registers[n]=this.registers[n]&this.registers[h];break;case 3:this.registers[n]=this.registers[n]^this.registers[h];break;case 4:var o=this.registers[n]+this.registers[h],g=o>=256?1:0;this.registers[n]=o%256,this.registers[15]=g;break;case 5:this.registers[n]>=this.registers[h]?(this.registers[15]=1,this.registers[n]=this.registers[n]-this.registers[h]):(this.registers[15]=0,this.registers[n]=256-(this.registers[h]-this.registers[n]));break;case 6:this.registers[15]=1&this.registers[n],this.registers[n]=this.registers[n]>>1;break;case 7:this.registers[h]>=this.registers[n]?(this.registers[15]=1,this.registers[n]=this.registers[h]-this.registers[n]):(this.registers[15]=0,this.registers[n]=256-(this.registers[n]-this.registers[h]));break;case 14:this.registers[15]=this.registers[n]>>7&1,this.registers[n]=(this.registers[n]<<1)%256}break;case 9:this.registers[i]!==this.registers[r]&&(this.pc+=2);break;case 10:this.iRegister=A;break;case 11:this.pc=A+this.registers[0]-this.SHIFT;break;case 12:this.registers[i]=Math.floor(256*Math.random())&a;break;case 13:this.changeDisplay(i,r,c),this.render(s);break;case 14:(9===r&&14===c&&t===this.KEYBOARD[this.registers[i]]||10===r&&1===c&&t!==this.KEYBOARD[this.registers[i]])&&(this.pc+=2);break;case 15:switch(a){case 7:this.registers[i]=this.dTimer;break;case 21:this.dTimer=this.registers[i];break;case 24:this.sTimer=this.registers[i];break;case 30:this.registers[i]+this.iRegister>=4096&&(this.registers[15]=1),this.iRegister=(this.iRegister+this.registers[i])%4096;break;case 10:t&&this.KEYBOARD.includes(t)?this.registers[i]=this.KEYBOARD.indexOf(t):this.pc+=2;break;case 41:this.registers=5*(15&this.registers[i]);break;case 51:var l=this.iRegister-this.SHIFT;this.memory[l]=Math.floor(this.registers[i]/100),this.memory[l+1]=Math.floor(this.registers[i]/10)%10,this.memory[l+2]=this.registers[i]%10;break;case 85:for(var b=0;b<=i;b++)this.memory[this.iRegister-this.SHIFT+b]=this.registers[b];break;case 101:for(var d=0;d<=i;d++)this.registers[d]=this.memory[this.iRegister-this.SHIFT+d]}}}},{key:"render",value:function(e){for(var t=e.canvas.width,s=e.canvas.height,i=e.getImageData(0,0,t,s),r=t/this.WIDTH,c=s/this.HEIGHT,a=0;a<s;a++)for(var A=0;A<t;A++){var n=Math.floor(A/r),h=Math.floor(a/c),o=this.display[h]&&this.display[h][n]?0:255,u=4*(A+t*a),g=i.data[u],l=g+(o-g)*(o-g>0?.2:.7);i.data[u]=l,i.data[u+1]=l,i.data[u+2]=l}e.putImageData(i,0,0)}},{key:"changeDisplay",value:function(e,t,s){for(var i=this.registers[t]&this.HEIGHT-1,r=this.iRegister-this.SHIFT,c=s+r,a=0;r<c&&i<this.HEIGHT;r++,i++)for(var A=this.memory[r],n=128,h=this.registers[e]&this.WIDTH-1;n>0&&h<this.WIDTH;n>>=1,h++)this.display[i]||(this.display[i]=[]),0!==(A&n)&&(this.display[i][h]&&(a=1),this.display[i][h]=!this.display[i][h]);this.registers[15]=a}}]),e}(),d=s(1),j=function(e){var t=e.file,s=e.keyPressed,r=e.setKey,c=Object(i.useState)(),a=Object(o.a)(c,2),A=a[0],n=a[1],h=Object(i.useState)(),u=Object(o.a)(h,2),g=u[0],l=u[1],j=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=j.current.getContext("2d");e.fillStyle="#FFFFFF",e.fillRect(0,0,e.canvas.width,e.canvas.height),l(new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU="))}),[]),Object(i.useEffect)((function(){return n(new b(t)),function(){n(null)}}),[t]),Object(i.useEffect)((function(){return document.addEventListener("keydown",(function(e){return r(e.code)})),function(){document.removeEventListener("keydown",(function(){return r(null)}))}})),Object(i.useEffect)((function(){var e=setInterval((function(){A.memory.length<=A.FONT.length||A.run(s,j.current.getContext("2d"))}),2);return function(){return clearInterval(e)}}),[A,s]),Object(i.useEffect)((function(){var e=setInterval((function(){A.dTimer>0&&(A.dTimer-=1),A.sTimer>0&&(A.sTimer-=1,g.play()),A.display&&A.render(j.current.getContext("2d"))}),17);return function(){return clearInterval(e)}}),[A,g]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("canvas",{ref:j})})},f=s.p+"static/media/IBMLogo.4fe4a61f.ch8",m=s.p+"static/media/SpaceInvaders.a68e5212.ch8",k=s(42),v=s(65),O=s(47),y=function(e){var t=e.setKey;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"cntr-p",children:"Controls"})}),Object(d.jsxs)("div",{className:"grid",children:[Object(d.jsx)("div",{onClick:function(){return t("Digit1")},className:"box one",children:"1"}),Object(d.jsx)("div",{onClick:function(){return t("Digit2")},className:"box two",children:"2"}),Object(d.jsx)("div",{onClick:function(){return t("Digit3")},className:"box three",children:"3"}),Object(d.jsx)("div",{onClick:function(){return t("Digit4")},className:"box four",children:"4"}),Object(d.jsx)("div",{onClick:function(){return t("KeyQ")},className:"box q",children:"Q"}),Object(d.jsx)("div",{onClick:function(){return t("KeyW")},className:"box w",children:"W"}),Object(d.jsx)("div",{onClick:function(){return t("KeyE")},className:"box e",children:"E"}),Object(d.jsx)("div",{onClick:function(){return t("KeyR")},className:"box r",children:"R"}),Object(d.jsx)("div",{onClick:function(){return t("KeyA")},className:"box a",children:"A"}),Object(d.jsx)("div",{onClick:function(){return t("KeyS")},className:"box s",children:"S"}),Object(d.jsx)("div",{onClick:function(){return t("KeyD")},className:"box d",children:"D"}),Object(d.jsx)("div",{onClick:function(){return t("KeyF")},className:"box f",children:"F"})]})]})},x=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),s=t[0],r=t[1],c=Object(i.useState)("Space Invaders"),a=Object(o.a)(c,2),A=a[0],u=a[1],g=Object(i.useState)(),l=Object(o.a)(g,2),b=l[0],x=l[1],I=Object(i.useRef)(null),p=function(){var e=Object(h.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.target.value,e.next="ibmLogo"===e.t0?3:"spaceInv"===e.t0?10:17;break;case 3:return e.t1=E,e.next=6,fetch(f).then((function(e){return e.blob()}));case 6:return e.t2=e.sent,(0,e.t1)(e.t2),u("IBM Logo"),e.abrupt("break",18);case 10:return e.t3=E,e.next=13,fetch(m).then((function(e){return e.blob()}));case 13:return e.t4=e.sent,(0,e.t3)(e.t4),u("Space Invaders"),e.abrupt("break",18);case 17:t.target&&t.target.files&&(E(t.target.files[0]),u("Select Game"));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){e&&e.arrayBuffer().then((function(e){var t=new Uint8Array(e);r(t)})).catch((function(e){return console.log(e)}))};return Object(i.useEffect)((function(){Object(h.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E,e.next=3,fetch(m).then((function(e){return e.blob()}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsx)("h1",{children:"CHIP-8 Emulator"})}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"container__media",children:Object(d.jsx)("div",{className:"three-dimensions-card",children:Object(d.jsx)(j,{file:s,keyPressed:b,setKey:x})})}),Object(d.jsxs)("div",{className:"container__content",children:[Object(d.jsx)(y,{setKey:x}),Object(d.jsxs)("div",{className:"control-btns",children:[Object(d.jsx)("div",{id:"uploadBtn",children:Object(d.jsx)(k.a,{variant:"outline-secondary",onClick:function(){var e;null===(e=I.current)||void 0===e||e.click()},children:" Upload "})}),Object(d.jsx)("input",{ref:I,style:{display:"none"},type:"file",onChange:p}),Object(d.jsxs)(v.a,{id:"dropdown-item-button",variant:"outline-secondary",title:A,onClick:p,children:[Object(d.jsx)(O.a.Item,{as:"button",value:"ibmLogo",children:"IBM logo"}),Object(d.jsx)(O.a.Item,{as:"button",value:"spaceInv",children:"Space Invaders"})]})]})]})]})]})},I=s(36),p=s(37);var E=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)(r.a.StrictMode,{children:[Object(d.jsx)(x,{}),Object(d.jsx)("div",{className:"footer-basic",children:Object(d.jsxs)("footer",{children:[Object(d.jsxs)("div",{className:"social",children:[Object(d.jsx)("a",{href:"https://www.linkedin.com/in/anastasiia-novoselova-7b1b2a218/",children:Object(d.jsx)(I.a,{icon:p.b})}),Object(d.jsx)("a",{href:"https://github.com/annovo",children:Object(d.jsx)(I.a,{icon:p.a})})]}),Object(d.jsx)("p",{className:"copyright",children:"Anastasiia Novoselova \xa9 2021"})]})})]})})};a.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.4f4e6fcd.chunk.js.map